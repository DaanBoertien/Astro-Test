---
import Layout from '../layouts/Layout.astro';

const today = new Date('2026-02-19');

const concerts = [
  { date: '2026-03-15', venue: 'Concertgebouw', city: 'Amsterdam', program: 'Chopin: Piano Concerto No. 1' },
  { date: '2026-04-03', venue: 'Wiener Musikverein', city: 'Vienna', program: 'Rachmaninoff: Piano Concerto No. 2' },
  { date: '2026-05-22', venue: 'Carnegie Hall', city: 'New York', program: 'Solo Recital — Debussy & Ravel' },
  { date: '2026-06-10', venue: 'Philharmonie de Paris', city: 'Paris', program: 'Beethoven: Piano Concerto No. 5' },
  { date: '2026-07-18', venue: 'Teatro Colón', city: 'Buenos Aires', program: 'Ginastera & Piazzolla: Argentine Voices' },
  { date: '2025-12-14', venue: 'Royal Albert Hall', city: 'London', program: 'Tchaikovsky: Piano Concerto No. 1' },
  { date: '2025-11-02', venue: 'Elbphilharmonie', city: 'Hamburg', program: 'Brahms: Piano Concerto No. 1' },
  { date: '2025-09-20', venue: 'Sydney Opera House', city: 'Sydney', program: 'Solo Recital — The Complete Chopin Ballades' },
  { date: '2025-06-05', venue: 'Walt Disney Concert Hall', city: 'Los Angeles', program: 'Mozart: Piano Concerto No. 21' },
];

const upcoming = concerts
  .filter(c => new Date(c.date) >= today)
  .sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());

const past = concerts
  .filter(c => new Date(c.date) < today)
  .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());

function formatDate(dateStr: string) {
  return new Date(dateStr).toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  });
}
---

<Layout title="Concerts — Elena Vasquez" description="Upcoming and past concert dates for Elena Vasquez.">
  <section class="section">
    <div class="container">
      <h1 class="section-title">Concert Calendar</h1>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <h2>Upcoming</h2>
      <div class="concert-list">
        {upcoming.map(concert => (
          <div class="concert-row">
            <div class="concert-date">{formatDate(concert.date)}</div>
            <div class="concert-details">
              <strong>{concert.venue}</strong> — {concert.city}
              <span class="concert-program">{concert.program}</span>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <section class="section past-section">
    <div class="container">
      <h2>Past Performances</h2>
      <div class="concert-list">
        {past.map(concert => (
          <div class="concert-row past">
            <div class="concert-date">{formatDate(concert.date)}</div>
            <div class="concert-details">
              <strong>{concert.venue}</strong> — {concert.city}
              <span class="concert-program">{concert.program}</span>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>
</Layout>

<style>
  .concert-list {
    max-width: 800px;
  }

  .concert-row {
    display: flex;
    gap: 2rem;
    padding: 1.25rem 0;
    border-bottom: 1px solid var(--color-border);
    align-items: baseline;
  }

  .concert-date {
    min-width: 180px;
    color: var(--color-accent);
    font-weight: 500;
  }

  .concert-details {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .concert-program {
    color: var(--color-text-light);
    font-size: 0.9rem;
    font-style: italic;
  }

  .concert-row.past {
    opacity: 0.7;
  }

  .past-section {
    background: #F3F0EB;
  }

  h2 {
    margin-bottom: 1.5rem;
  }

  @media (max-width: 768px) {
    .concert-row {
      flex-direction: column;
      gap: 0.25rem;
    }

    .concert-date {
      min-width: auto;
    }
  }
</style>
